{% macro add_one(value) -%}
    {% if value.startswith("http") %}
        <tr><td><a href="{{ value }}">{{ value }}</a></td></tr>
    {% else %}
        <tr><td>{{ value }}</td></tr>
    {% endif %}
{%- endmacro %}

{% macro add_one_or_many(value) -%}
    {% if value is string %}
        {{ add_one(value) }}
    {% elif value is sequence %}
        {%- for item in value %}
            {{ add_one(item) }}
        {%- endfor %}
    {% endif %}
{%- endmacro %}


<div class="{{ class_name }}">
    <table>
        <tbody>
            <tr><th>Homepage</th></tr>
            {{ add_one_or_many(data.homepage) }}
            {% if data.urls is defined %}
                <tr><th>Other links</th></tr>
                {{ add_one_or_many(data.urls) }}
            {% endif %}
            <tr><th>About</th></tr>
            <tr><td>{{- data.about -}}</td></tr>
            {%- if data.requirements is defined %}
                <tr><th>Requirements</th></tr>
                {{ add_one_or_many(data.requirements) }}
            {%- endif %}
            {%- if data.downloads is defined %}
                <tr><th>Downloads</th></tr>
                {{ add_one_or_many(data.downloads) }}
            {%- endif %}
        </tbody>
    </table>
</div>
